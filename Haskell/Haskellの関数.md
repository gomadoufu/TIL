# 関数適用と部分適用

## 関数を作る

関数を作るには、いくつか方法がある。

- 部分適用による方法
  → 既存の関数に引数を与えて、新たな関数にする
- 関数合成による方法
  → 既存の関数をつなげて、新たな関数にする
- 新しい関数を定義する方法



## 関数適用

関数の引数に値を与えることを関数適用と呼ぶ。
Haskellでは、関数適用は半角スペースで表現される。例えば、関数absにスペースを挟んで数値を与えると、絶対値が得られる。

```haskell
abs (-1) --1
```



関数適用の結合優先度は、最も強い。他の演算よりも必ずより強く結合する。たとえば
```haskell
1 + abs 2
```

は
```haskell
1 + (abs 2)
```

と同じ意味になる。



関数の特殊な適用方法として、中置記法がある。中置記法にはバッククオートを用いる。例えば、二数の最大公約数を求める関数gcdは、ふつう
```haskell
gcd 12 15 --3
```

のように適用を表現するが、これを中置記法で書き換えると
```haskell
12 `gcd` 15 --3
```

とも表現することができる。中置記法にしても関数の作用は変わらないが、関数が二項演算子のような見た目になるので、コードの可読性に寄与する場合がある。
逆に、二項演算子を前置記法にすることもできる。二項演算子を前置記法にするには、関数を丸括弧でかこむ。

```haskell
[1, 2] ++ [3, 4] --リストの結合

(++) [1, 2] [3, 4] --上の式と同じ意味

:t (++) --(++) :: [a] -> [a] -> [a] ...型を確認したい時も、前置記法にする
```



## 部分適用

Haskellでは、関数の一部だけに引数を与えることができる。これを**部分適用**という。

部分適用は、元の関数に対しいくつかの引数だけを与えることで、元の関数の機能に対して幾分限定的な機能を持った新しい関数を作り出すことができる。

```haskell
gcd 12 15 -- 12と15の最大公約数を求める

let gcd12 = gcd 12 --gcdに12を部分適用して、「12との最大公約数を求める」関数を作成

gcd12 3 --3
gcd12 18 --6
gcd12 100 --4
```







