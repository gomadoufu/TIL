# 型クラス

**型クラス** *type class*とは、「ある型が何らかの性質を持つことを示す、インターフェース」のこと。

たとえば、「文字列型での表現に変換できる(toStringメソッドのように)」という性質は`Show`という型クラスで与えられる。型は、Showで定義された性質を実際に実装することで、その型を型クラスShowの**インスタンス**にすることができる。ある型aがある型クラスCのインスタンスであることを、`C a`と書く。



## 型クラス制約

関数の型に、型クラス制約をつけることができる。
たとえば、文字列型への変換を行う関数が欲しいと思ったとき、

```haskell
showInt :: Int -> String
showInteger :: Integer -> String
showFloat :: Float -> String
```

などと、用意したとする。しかし、型に合わせて異なる関数を使うのは不便である。そこで、これらのインターフェースを統一するために、型を変数とした新しい関数showを定義してみる。
```haskell
show :: a -> String
```

これで、いろいろな型をshow関数だけで賄えるようになった(ポリモーフィズム)。
しかしこれでは、関数の型など、文字列への変換が不可能な型も受け付けてしまう。
これに対応するには、「文字列型での表現に変換できる」という性質を持つ型だけを受け付けるようにする必要がある。これを表現するのに、型クラスを用いて

```haskell
show:: Show a => a -> String
```

と書く。この*Show a =>*の部分を、**型クラス制約**と呼ぶ。



## いろいろな型クラス

Haskellの基本的な型クラスを紹介する。

### Show

示す性質: 文字列での表現に変換できること
この型クラスのインスタンスに適用できる関数: 文字列への変換を行う関数show

### Read

示す性質: 文字列表現から変換できること(Showの反対)
この型クラスのインスタンスに適用できる関数: 文字列からそのインスタンスの型に変換できる関数read

### Num

示す性質: 数値の基本的な性質を持つこと
この型クラスのインスタンスに適用できる関数: 加算減算や絶対値など数値の基本的な演算(+,-,\*,absなど)。 *除算は定義されていないことに注意*

### Fractional

示す性質: Numに加え、小数であること。整数でない数に対する除算が定義されていることを示す。Float, Double, RationalがFractionalのインスタンス。
この型クラスのインスタンスに適用できる関数: 除算 ( / ) :: Fractional a => a -> a -> a

### Floating

示す性質: Fractionalに加え、特定の計算が定義されていること。特定の計算とは、三角関数・根号・ネイピア数・対数など。
この型クラスのインスタンスに適用できる関数: sin,cos,tan,sqrt,exp,log,piなどの数学関数

### Integral

示す性質: Numに加え、整数に対する割り算や剰余が定義されていることを示す。Int, IntegerがIntegralのインスタンス。
この型クラスのインスタンスに適用できる関数: 切り捨て除算 div :: Integral a => a -> a -> a

### Eq

示す性質: 等値性が定義されている
この型クラスのインスタンスに適用できる関数: 等値関数 (==) :: Eq a => a -> a -> Bool , 不等値関数 (/=)

### Ord

示す性質: Eqに加え、順序関係が定義されている
この型クラスのインスタンスに適用できる関数: compare :: Ord a => a -> a -> Ordering (Orderingは data Ordering = LT | GT | EQ であるデータ型。値はそれぞれLT=less than GT=greater than EQ=equal の意) , 不等号 (<) (>) (<=) (>=)

### Enum

示す性質: 前後の値が定義されていること
この型クラスのインスタンスに適用できる関数: succ関数 (successor:次の値) , pred関数 (predecessor:前の値) 。また、リストの型変数がEnumのインスタンスである場合、レンジ表記が使える (例: ['a'..'z'], [1, 3..10])

### Bounded

示す性質: 上限・下限が定義されている
この型クラスのインスタンスに適用できる関数: maxBound (上限値を返す), minBound (下限値を返す)
